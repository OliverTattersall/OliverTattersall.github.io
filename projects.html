<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->

    <style>
        header{
            background-image: url(ninjaimg/man.jpg);
            background-size: cover;
            background-position: center;
            min-height: 1000px;
        }
        @media screen and (max-width: 670px){
            header{
                min-height: 500px;
            }

        }
        .section{
            padding-top: 4vw;
            padding-bottom: 4vw;
        }.tabs .indicator{
            background-color: #1a237e;
        }
            .tabs .tab a:focus, .tabs .tab a:focus.active{
            background: transparent;
        } .dropdown-content{
            background: none;
        } .dropdown-content:hover{
            background-color: transparent;
        }
    </style>
</head>
<body>
    <header>
        <nav class="nav-wrapper transparent">
            <div class="container">
                <a href="" class="brand-logo">Oliver Tattersall</a>
                <a href="" class="sidenav-trigger" data-target="mobile-menu">
                    <i class="material-icons">menu</i>
                </a>
                <ul class="right hide-on-med-and-down">
                    <li><a onclick="console.log('hello');testpage('index.html')" class="dropdown-trigger" href="#!" data-target="aboutme">About Me<i class="material-icons right">arrow_drop_down</i></a></li>
                    <li><a id onclick="console.log('hello');testpage('projects.html')" class="dropdown-trigger" href="#!" data-target="projects">Projects<i class="material-icons right">arrow_drop_down</i></a></li>


                <ul id="aboutme" class="dropdown-content">
                    <li style="padding-top: 10px;" ><a class="dropdowns" href="#"></a></li>
                    <li><a href="#photos">Education</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
                <ul id="projects" class="dropdown-content">
                    <!-- <li style="padding-top: 10px;"><a class="dropdowns" href="#"></a></li>
                    <li><a class="dropdowns" href="#!">one</a></li>
                    <li><a href="#!">two</a></li>
                    <li class="divider"></li>
                    <li><a href="#!">three</a></li> -->
                </ul>

                    <li><a href="#" class="tooltipped btn-floating btn-small indigo darken-4" data-tooltip="@oliver.tattersal">
                        <i class="fab fa-instagram"></i>
                    </a></li>
                    <li><a href="#" class="tooltipped btn-floating btn-small indigo darken-4" data-tooltip="oliver.tattersall@ucc.on.ca">
                        <i class="material-icons">email</i>
                    </a></li>
                    <li><a href="#" class="tooltipped btn-floating btn-small indigo darken-4" data-tooltip="Tablesalt#6697">
                        <i class="fab fa-discord"></i>
                    </a></li>
                </ul>
                <ul class="sidenav grey lighten-2" id="mobile-menu">
                    <!-- <li><a onclick="console.log('hello')" class="dropdown-trigger" href="" data-target="aboutme">About Me<i class="material-icons right">arrow_drop_down</i></a></li>
                    <li><a onclick="console.log('hello')" class="dropdown-trigger" href="" data-target="projects">Projects<i class="material-icons right">arrow_drop_down</i></a></li> -->
                    <li><a href="#photos">Photos</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <section class="container section" >
        <div class="row" id = "cards">

        </div>
        <!-- <div class="row">
            <div class="container">
                <div class="card">
                    <div class="container">
                        <h1>Learning How to create JavaScript Games.</h1>
                        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reprehenderit iusto eius cum molestias quidem vero aut iure, ea voluptas, sequi cumque laborum dolorem non pariatur. Aliquam maiores repudiandae consequatur et?</p>
                        <a href="#projects" onclick="window.open('https://olivertattersall.github.io/Games/')">Link to project</a>
                    </div>
                    <br>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="container">
                <div class="card">
                    <div class="container">
                        <h1>Historical North Toronto Website. </h1>
                        <p>A website contain a brief history of North Toronto, history on some historical locations in North Toronto, and comparative photos of now and then to see how much it has changed in the last couple centuries. It also has pages where the users can upload there own history about north toronto as well as stories using Firebase to store the data. </p>
                        
                        <a href="#projects" onclick="window.open('https://olivertattersall.github.io/NorthTorontoHIstory/')">Link to project</a>
                    </div>
                    <br>
                </div>
            </div>
        </div> -->
    </section>

    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    <script>
        $(document).ready(function(){
            $('.sidenav').sidenav();
            $(".dropdown-trigger").dropdown();
            $(".tooltipped").tooltip();
        })

        function testpage(id){
            let link=window.location.href;
            let parts=link.split("/")
            let lastlink=parts[parts.length-1]
            console.log(lastlink)
            // let target=$(id).attr("href")
            console.log(id)
            if(lastlink[lastlink.length-1]=="#"){
                lastlink=lastlink.slice(0,lastlink.length-1)
            }
            console.log(lastlink)
            if(lastlink!=id){
                window.location.replace(id)
            }

        }

        var firebaseConfig = {
            apiKey: "AIzaSyAmWzUEXfY0HF5Yk6z6fk0-tWl3VchJ1LU",
            authDomain: "resumewebsite-858b2.firebaseapp.com",
            projectId: "resumewebsite-858b2",
            storageBucket: "resumewebsite-858b2.appspot.com",
            messagingSenderId: "653615050899",
            appId: "1:653615050899:web:7ec6e2fb21429478765d66",
            measurementId: "G-ELZ94E3LYT"
        };

        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        var database=firebase.database();

        var loc = database.ref('Projects/');

        loc.on('value', (snapshot)=>{
            let data = snapshot.val();
            console.log(data)
            console.log("hello")

            let keys  = Object.keys(data);
            let final="";
            for(i=0;i<keys.length;i++){
                let datastr = `
                
                <div class="col s12 m12 l8">
                    <div class="card">
                        <div class="container">
                            <h1>${data[keys[i]].title}</h1>
                            <p>${data[keys[i]].content}</p>
                            
                            <a href="#projects" onclick="window.open('${data[keys[i]].link}')">Link to project</a>
                        </div>
                        <br>
                    </div>
                </div>
                `;


                // datastr = front + middle + end;
                final = final + datastr;
            }

            $("#cards").html(final);

        });
        console.log("hello")
    </script>
</body>
</html>